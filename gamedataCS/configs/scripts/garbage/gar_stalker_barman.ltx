[logic]
active = walker@barman
level_spot = barman
trade = misc\trade\trade_barmen_all.ltx

[walker@barman]
path_walk = gar_smart_terrain_3_5_bandit_barman_walk
path_look = gar_smart_terrain_3_5_bandit_barman_look
def_state_standing = wait_trade
on_signal = turn_end | smartcover@lean_on_bar_fire
combat_ignore_cond = {!is_enemy_actor}
meet = meet

[smartcover@lean_on_bar_fire]
cover_name = gar_smart_cover_bandit_barman_lead_stand_lean_on_bar
loophole_name = lead_stand_lean_on_bar
cover_state = fire_target
on_timer = 15000 | smartcover@lean_on_bar_fire_no_lookout
combat_ignore_cond = {!is_enemy_actor}
def_state_standing = wait_trade
meet = meet

[smartcover@lean_on_bar_fire_no_lookout]
cover_name = gar_smart_cover_bandit_barman_lead_stand_lean_on_bar
loophole_name = lead_stand_lean_on_bar
cover_state = fire_no_lookout_target
on_timer = 15000 | smartcover@lean_on_bar_fire
combat_ignore_cond = {!is_enemy_actor}
def_state_standing = wait_trade
meet = meet

[meet]
meet_state 		= 3|wait_trade@nil
meet_state_wpn 		= 3|wait_trade@nil
victim			= 3|actor
victim_wpn			= 3|actor
use_wpn	= true
use = true