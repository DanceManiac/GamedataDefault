[logic]
active = walker
combat_ignore = combat_ignore
on_death = death

[death]
on_info = %=dec_counter(hospital_z3_cout)%

[walker]
on_info = camper@hide %=inc_counter(hospital_z3_cout)%
combat_ignore_cond = always
path_walk = z3_sniper_3_hide_walk
path_look = z3_sniper_look
wounded = wounded

[camper@hide]
out_restr = z3_sniper_3_restr
combat_ignore_cond = always
path_walk = z3_sniper_3_hide_walk
path_look = z3_sniper_look
radius = 1
on_info = {+hospital_z3_sniper_fire} camper@fire
wounded = wounded

[camper@fire]
post_combat_time = 0,0
combat_ignore_cond = always
out_restr = z3_sniper_3_restr
path_walk = z3_sniper_3_fire_walk
path_look = z3_sniper_look
radius = 1
def_state_moving = sneak_run
wounded = wounded
on_signal = action | camper@fire2

[camper@fire2]
post_combat_time = 0,0
out_restr = z3_sniper_3_restr
path_walk = z3_sniper_3_fire_walk
path_look = z3_sniper_look
radius = 1
def_state_moving = sneak_run
wounded = wounded

[wounded]
hp_state        = 0|wounded_heavy@help_heavy
hp_state_see    = 0|wounded_heavy@help_heavy
hp_victim       = 0|nil
hp_fight        = 0|false
hp_cover        = 0|false
