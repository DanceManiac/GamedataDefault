[logic]
active = camper@fire

[camper@fire]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_1
path_look = z3_cs_commander_look
radius = 0
def_state_moving = sneak_run
invulnerable = true
team = CS_squad
on_info = {+hospital_z3_cs_fire_1} camper@fire2

[camper@fire2]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_2
path_look = z3_cs_commander_look
radius = 0
def_state_moving = sneak_run
invulnerable = true
on_signal = fire | camper@final %+hospital_z3_cs_fire_2%

[camper@final]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_2
path_look = z3_cs_commander_look
radius = 0
def_state_moving = sneak_run
invulnerable = true
on_info = {+hospital_cs_victory} remark@victory
on_info2 = {+hospital_z3_minigun_off} camper@wait_final

[camper@wait_final]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_2
path_look = z3_cs_commander_look
radius = 0
def_state_moving = sneak_run
invulnerable = true
on_info = {+hospital_cs_victory} remark@victory
on_game_timer = 150 | remark@victory %+hospital_cs_victory%

[remark@victory]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
combat_ignore_cond = always
anim = hide_rac
target = actor
on_info = {+hosp_z3_csky_hide_radio} camper@final2
invulnerable = true

[camper@final2]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_2
path_look = z3_cs_final_look
radius = 0
invulnerable = true
wounded = wounded
on_info = {+hospital_z3_enemy_last_wave} camper@final3

[camper@final3]
post_combat_time = 0,0
out_restr = kat_hosp_z3_cs_floor_restr
path_walk = z3_cs_commander_walk_2
path_look = z3_cs_soldier1_look_1
radius = 0
def_state_moving = sneak_run
wounded = wounded
on_info = {+freeplay} %=destroy_object%

[wounded]
hp_state        = 0|wounded_heavy@help_heavy
hp_state_see    = 0|wounded_heavy@help_heavy
hp_victim       = 0|nil
hp_fight        = 0|false
hp_cover        = 0|false
