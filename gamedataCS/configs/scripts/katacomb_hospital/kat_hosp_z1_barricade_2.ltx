[logic]
active = remark
post_combat_time = 0,0 
on_death = death

[death]
on_info = %+sniper_fire_scene_end%

[remark]
invulnerable = true
meet = no_meet
path_walk = barricade_hide_2_walk
combat_ignore_cond = true
anim = threat_na
on_game_timer = 20 | smartcover@wait 

[smartcover@wait]
use_in_combat = true
invulnerable = true
meet = no_meet
path_walk = barricade_hide_2_walk
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
on_info = {+hospital_z1_action} smartcover@hide

[smartcover@hide]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
on_info = {+cover_fire} smartcover@fire0
on_info2 = {+sniper_fire_scene} smartcover@runner

[smartcover@fire0]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = fire_target
target_path = barricade_fire_2_look
on_info = {+sniper_fire_scene} smartcover@runner
on_info2 = {+cover_fire_end} smartcover@hide

[smartcover@fire]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = fire_target
target_path = barricade_fire_2_look
on_game_timer = 50 | smartcover@runner

[smartcover@runner]
use_in_combat = true
;invulnerable = true
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
loophole_name = br_1
on_game_timer = 5 | %=play_sound(clear_sky_suicide:csky:hosp_clear_sky_suicide_name)%
on_game_timer2 = 30 | walker

[walker]
combat_ignore_cond = true
combat_ignore_keep_when_attacked = true
path_walk = barricade_hide_2_walk
path_look = barricade_hide_2_look
on_game_timer = 80 | walker@1 %=play_sound(clear_sky_runner_killed:csky:hosp_clear_sky_suicide_name) =hit_npc(200:bip01_head:1000:0)%

[walker@1]
path_walk = barricade_hide_2_walk
path_look = barricade_hide_2_look
meet = meet

[meet]
meet_state 		= 0|nil@nil
meet_state_wpn = 0|nil@nil
victim			= 0|nil
victim_wpn = 0|nil
use			= true
use_wpn = true
abuse			= false