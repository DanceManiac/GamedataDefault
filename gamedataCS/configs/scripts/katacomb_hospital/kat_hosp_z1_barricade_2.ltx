[logic]
active = remark
post_combat_time = 0,0 
on_death = death

[death]
on_info = %+sniper_fire_scene_end%

[remark]
invulnerable = true
meet = no_meet
path_walk = barricade_hide_2_walk
combat_ignore_cond = true
anim = threat_na
on_game_timer = 20 | smartcover@wait 

[smartcover@wait]
use_in_combat = true
invulnerable = true
meet = no_meet
path_walk = barricade_hide_2_walk
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
on_info = {+hospital_z1_action} smartcover@hide

[smartcover@hide]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
on_info = {+cover_fire} smartcover@fire0
on_info2 = {+sniper_fire_scene} smartcover@runner

[smartcover@fire0]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = fire_target
target_path = barricade_fire_2_look
on_info = {+sniper_fire_scene} smartcover@runner
on_info2 = {+cover_fire_end} smartcover@hide

[smartcover@fire]
use_in_combat = true
invulnerable = true
meet = no_meet
combat_ignore_cond = true
cover_name = hosp_barricade_2_smartcover
cover_state = fire_target
target_path = barricade_fire_2_look
on_game_timer = 50 | smartcover@runner

[smartcover@runner]
use_in_combat = true
;invulnerable = true
meet = no_meet
combat_ignore_cond = true
combat_ignore_keep_when_attacked = true
cover_name = hosp_barricade_2_smartcover
cover_state = idle_target
loophole_name = br_1
on_game_timer = 5 | %=play_sound(clear_sky_suicide)%
on_game_timer2 = 30 | walker ;%=play_sound(clear_sky_runner_killed) =hit_npc(200:bip01_head:1000:0)%

[walker]
combat_ignore_cond = true
combat_ignore_keep_when_attacked = true
path_walk = barricade_hide_2_walk
path_look = barricade_hide_2_look
on_game_timer = 80 | %=play_sound(clear_sky_runner_killed) =hit_npc(200:bip01_head:1000:0)%
