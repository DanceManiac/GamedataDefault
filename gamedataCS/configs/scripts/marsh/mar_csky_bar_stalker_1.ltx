[logic]
active = remark@work1
prior = 42

[remark@work1]
path_walk = mar_smart_terrain_csky_base_bar_stalker_1_walk
on_info = smartcover@1
anim = wait

[smartcover@1]
path_walk = mar_smart_terrain_csky_base_bar_stalker_1_walk
cover_name = mar_csky_bar_anim_cover_1
loophole_name = lead_stand_lean_on_bar
cover_state = idle_fire
on_info = {+start_surge_info} walker@surge_hide1
on_info2 = {=is_heavy_rain -mar_snd_bad_weather =dist_to_actor_le(8)} smartcover@1a %=play_sound(mar_bad_weather) +mar_snd_bad_weather%
on_info3 = {+lim_visited_level} %=destroy_object%
meet = meet@1

[smartcover@1a]
path_walk = mar_smart_terrain_csky_base_bar_stalker_1_walk
cover_name = mar_csky_bar_anim_cover_1
loophole_name = lead_stand_lean_on_bar
cover_state = idle_fire
on_info = {+start_surge_info} walker@surge_hide1
on_info2 = {!is_heavy_rain =is_good_weather =dist_to_actor_le(8)} smartcover@1 %=disable_info_weather(mar_snd_bad_weather)%
on_info3 = {+lim_visited_level} %=destroy_object%
meet = meet@1

[walker@surge_hide1]
path_walk = mar_smart_terrain_csky_base_surge_hide_1
on_info = {-start_surge_info} smartcover@1
meet = no_meet

[meet@1]
meet_state        = 2| wait@nil
meet_state_wpn        = 2| wait@nil
victim                 = 2| actor
victim_wpn                 = 2| actor
use                = true
use_wpn = true
abuse                = false