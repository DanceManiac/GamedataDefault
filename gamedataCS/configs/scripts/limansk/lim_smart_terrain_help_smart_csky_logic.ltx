;*****************************
;********* commander ***********

[logic@csky_work1]
active = camper@wait_work1
suitable = {=is_gulag_attacking_target(lim_smart_terrain_2) -lim_bandit_house_attackers} true
prior = 70

[camper@wait_work1]
in_restr = lim_bandit_house_zone_1
combat_ignore_cond = true
path_walk = csky_1_walk
path_look = csky_1_walk
radius = 0
on_info = {+lim_bandit_house_go} walker@fire_work1 %=request_current_squad_stage(prepare)%

[walker@fire_work1]
combat_ignore_cond = {!enemy_in_zone(lim_smart_terrain_2_attack)}
out_restr = lim_smart_terrain_2_defence
in_restr = lim_bandit_house_zone_1
path_walk = csky_attack_1_walk
path_look = csky_attack_1_walk

;***********************************

[logic@csky_work2]
active = camper@wait_work2
suitable = {=is_gulag_attacking_target(lim_smart_terrain_2) -lim_bandit_house_attackers} true
prior = 70

[camper@wait_work2]
in_restr = lim_bandit_house_zone_1
combat_ignore_cond = true
path_walk = csky_2_walk
path_look = csky_2_walk
radius = 0
on_info = {+lim_bandit_house_go} walker@fire_work2 %=request_current_squad_stage(prepare)%

[walker@fire_work2]
combat_ignore_cond = {!enemy_in_zone(lim_smart_terrain_2_attack)}
out_restr = lim_smart_terrain_2_defence
in_restr = lim_bandit_house_zone_1
path_walk = csky_attack_2_walk
path_look = csky_attack_2_walk
;***********************************

[logic@csky_work3]
active = camper@wait_work3
suitable = {=is_gulag_attacking_target(lim_smart_terrain_2) -lim_bandit_house_attackers} true
prior = 70

[camper@wait_work3]
in_restr = lim_bandit_house_zone_1
combat_ignore_cond = true
path_walk = csky_3_walk
path_look = csky_3_walk
radius = 0
on_info = {+lim_bandit_house_go} walker@fire_work3 %=request_current_squad_stage(prepare) =play_sound(lim_cs_storm_troop_leader_clear_street)%

[walker@fire_work3]
combat_ignore_cond = {!enemy_in_zone(lim_smart_terrain_2_attack)}
out_restr = lim_smart_terrain_2_defence
in_restr = lim_bandit_house_zone_1
path_walk = csky_attack_3_walk
path_look = csky_attack_3_walk
;***********************************

[logic@csky_work4]
active = camper@wait_work4
suitable = {=is_gulag_attacking_target(lim_smart_terrain_2) -lim_bandit_house_attackers} true
prior = 70

[camper@wait_work4]
in_restr = lim_bandit_house_zone_1
combat_ignore_cond = true
path_walk = csky_4_walk
path_look = csky_4_walk
radius = 0
on_info = {+lim_bandit_house_go} walker@fire_work4 %=request_current_squad_stage(prepare)%

[walker@fire_work4]
combat_ignore_cond = {!enemy_in_zone(lim_smart_terrain_2_attack)}
out_restr = lim_smart_terrain_2_defence
in_restr = lim_bandit_house_zone_1
path_walk = csky_attack_4_walk
path_look = csky_attack_4_walk
;***********************************

[logic@csky_work5]
active = camper@wait_work5
suitable = {=is_gulag_attacking_target(lim_smart_terrain_2) -lim_bandit_house_attackers} true
;suitable = {-lim_bandit_house_go} true
prior = 70
on_combat = combat

[camper@wait_work5]
in_restr = lim_bandit_house_zone_1
combat_ignore_cond = true
path_walk = csky_5_walk
path_look = csky_5_walk
radius = 0
on_info = {+lim_bandit_house_go} walker@fire_work5 %=request_current_squad_stage(prepare)%

[walker@fire_work5]
combat_ignore_cond = {!enemy_in_zone(lim_smart_terrain_2_attack)}
out_restr = lim_smart_terrain_2_defence
in_restr = lim_bandit_house_zone_1
path_walk = csky_attack_5_walk
path_look = csky_attack_5_walk